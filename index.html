<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Meta Tags -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Title -->
    <title>Krishna Jewellers</title>

    <!-- External Stylesheets -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
    <link rel="stylesheet" href="../style.css">
</head>
<body>

    <!-- Background -->
    <div class="background"></div>

    <!-- Navigation Bar -->
    <nav>
        <a id="viewCollection">Your Collections</a>
        <a href="#">Our Best Jewellery</a>
        <a href="about.html">About Us</a>
        <i class="bi bi-geo-alt-fill location-icon" id="locationIcon" title="Show Location"></i>
    </nav>

    <!-- Store Address -->
    <div class="address-box" id="addressBox">
        üìç Aktha Road, (Near Chitragupt Mandir), Pahariya, Varanasi<br>
        ‚òé 9838233034
    </div>

    <!-- Welcome Heading -->
    <h1>Welcome To Krishna Jewellers</h1>


    <!-- Jewellery Items Section -->
    <div class="jewellery-container">

        <!-- Item 1 -->
        <div class="jewellery-item">
            <img src="../img/neckless.jpg" alt="Necklace">
            <p>Necklace</p>
            <button class="price-btn">‚Çπ34,000</button>
            <button class="cart-btn">Add to Cart</button>
            <button class="like-btn">Like ‚ù§Ô∏è</button>
            <button class="order-btn">Order Now</button>
        </div>

        <!-- Item 2 -->
        <div class="jewellery-item">
            <img src="../img/bangle.jpg" alt="Bangle">
            <p>Bangle</p>
            <button class="price-btn">‚Çπ10,500</button>
            <button class="cart-btn">Add to Cart</button>
            <button class="like-btn">Like ‚ù§Ô∏è</button>
            <button class="order-btn">Order Now</button>
        </div>

        <!-- Item 3 -->
        <div class="jewellery-item">
            <img src="../img/ring.jpg" alt="Ring">
            <p>Ring</p>
            <button class="price-btn">‚Çπ1,200</button>
            <button class="cart-btn">Add to Cart</button>
            <button class="like-btn">Like ‚ù§Ô∏è</button>
            <button class="order-btn">Order Now</button>
        </div>

        <!-- Item 4 -->
        <div class="jewellery-item">
            <img src="../img/bracelet.jpg" alt="Bracelet">
            <p>Bracelet</p>
            <button class="price-btn">‚Çπ2,800</button>
            <button class="cart-btn">Add to Cart</button>
            <button class="like-btn">Like ‚ù§Ô∏è</button>
            <button class="order-btn">Order Now</button>
        </div>

    </div> <!-- End Jewellery Container -->

    <!-- Popup Collection Section -->
    <div class="collection-popup" id="collectionPopup">
        <button class="popup-close" id="closePopup">X</button>
        <h2>Your Liked Items</h2>
        <div id="collectionList"></div>
    </div>

    <!-- Footer -->
    <footer>
        <p>Copyright ¬© 2025 | Krishna Jewellers</p>
        <p>Contact us: info@krishnajewellers.com</p>
    </footer>

    <!-- JavaScript -->
    <script>
        document.addEventListener("DOMContentLoaded", () => {
            const likeButtons = document.querySelectorAll(".like-btn");
            const collectionPopup = document.getElementById("collectionPopup");
            const collectionList = document.getElementById("collectionList");
            const closePopup = document.getElementById("closePopup");
            const viewCollection = document.getElementById("viewCollection");
            const locationIcon = document.getElementById("locationIcon");
            const addressBox = document.getElementById("addressBox");

            let likedItems = JSON.parse(localStorage.getItem("likedItems")) || [];

            // Like Button Functionality
            likeButtons.forEach((button) => {
                button.addEventListener("click", () => {
                    const item = button.parentElement;
                    const imgSrc = item.querySelector("img").src;
                    const name = item.querySelector("p").innerText;
                    const price = item.querySelector(".price-btn").innerText;

                    const likedItem = { img: imgSrc, name, price };

                    // Avoid duplicates
                    if (!likedItems.some(i => i.name === name)) {
                        likedItems.push(likedItem);
                        localStorage.setItem("likedItems", JSON.stringify(likedItems));
                        alert(`${name} added to your collection!`);
                    } else {
                        alert(`${name} is already in your collection.`);
                    }
                });
            });

            // View Collection Popup
            viewCollection.addEventListener("click", () => {
                collectionList.innerHTML = "";
                likedItems = JSON.parse(localStorage.getItem("likedItems")) || [];

                if (likedItems.length === 0) {
                    collectionList.innerHTML = "<p>No items in your collection.</p>";
                } else {
                    likedItems.forEach(item => {
                        const div = document.createElement("div");
                        div.classList.add("popup-item");
                        div.innerHTML = `
                            <img src="${item.img}" alt="${item.name}">
                            <div>
                                <p><strong>${item.name}</strong></p>
                                <p>${item.price}</p>
                            </div>
                        `;
                        collectionList.appendChild(div);
                    });
                }
                collectionPopup.style.display = "block";
            });

            // Close Popup
            closePopup.addEventListener("click", () => {
                collectionPopup.style.display = "none";
            });

            // Location Toggle
            locationIcon.addEventListener("click", () => {
                addressBox.style.display = addressBox.style.display === "block" ? "none" : "block";
            });
        });
    </script>

</body>
</html>
